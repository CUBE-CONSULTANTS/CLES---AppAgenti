<core:FragmentDefinition xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <VBox width="100%"
        class="sapUiTinyMarginBottom">
        <HBox class="sapUiSmallMarginBottom"
            width="100%"
            alignItems="Center"
            alignContent="Center"
            justifyContent="Start">
            <SegmentedButton width="15rem"
                selectedKey="{main>/header/mode/selectedKey}"
                items="{main>/header/mode/items}">
                <items>
                    <SegmentedButtonItem key="{main>key}"
                        text="{main>text}" />
                </items>
            </SegmentedButton>
            <ObjectStatus class="sapUiTinyMarginBegin"
                text="ESISTONO PARTITE SCADUTE"
                active="false"
                inverted="true"
                state="Error"
                icon="sap-icon://warning" />
        </HBox>
        <HBox width="100%"
            justifyContent="SpaceBetween">
            <VBox width="50%" visible="{= ${main>/header/mode/selectedKey} === 'OFF' ? true : false }">
                <Label text="Cliente:"
                    design="Bold" />
                <Input showValueHelp="true"
                    valueHelpRequest=".onCustomerValueHelpRequest"
                    value="{main>/header/customer/name}" />
            </VBox>
            <VBox width="50%" visible="{= ${main>/header/mode/selectedKey} === 'PRE' ? true : false }">
                <Label text="Titolo:"
                    design="Bold" />
                <Input showValueHelp="true"
                    valueHelpRequest=".onPreorderValueHelpRequest"
                    value="{main>/header/preorder/name}" />
            </VBox>
        </HBox>
        <VBox width="50%">
            <Label class="sapUiTinyMarginTop"
                text="Note di Testata:"
                design="Bold" />
            <TextArea rows="4"
                cols="120"
                value="{main>/header/notes/value}" />
        </VBox>

        <ScrollContainer vertical="true"
            horizontal="false"
            height="{= ${device>/system/phone} ? '100%' : (${device>/resize/height} - 420 + 'px') }"
            width="100%">
            <List items="{main>/header/attachments/items}"
                sticky="HeaderToolbar">
                <headerToolbar>
                    <OverflowToolbar width="100%">
                        <Title titleStyle="H5"
                            text="Allegati di Testata" />
                        <ToolbarSpacer />
                        <Button icon="sap-icon://add"
                            type="Emphasized"
                            press=".onHeaderAttachmentPress" />
                    </OverflowToolbar>
                </headerToolbar>
                <items>
                    <CustomListItem type="Active"
                        press=".onHeaderAttachmentItemPress">
                        <HBox width="100%"
                            alignItems="Center"
                            justifyContent="SpaceBetween">
                            <Text class="sapUiTinyMarginBeginEnd"
                                wrapping="true"
                                text="{main>data}" />
                            <Text class="sapUiTinyMarginBeginEnd"
                                wrapping="true"
                                text="{main>nome}" />
                            <Button class="sapUiTinyMarginBeginEnd"
                                type="Negative"
                                icon="sap-icon://delete"
                                press=".onHeaderAttachmentDeletePress" />
                        </HBox>
                    </CustomListItem>
                </items>
            </List>
        </ScrollContainer>

    </VBox>

</core:FragmentDefinition>
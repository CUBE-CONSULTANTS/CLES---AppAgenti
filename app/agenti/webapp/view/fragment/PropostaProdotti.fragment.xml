<core:FragmentDefinition xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout">
    <Table id="lista_odv"
        mode="MultiSelect"
        growing="true"
        growingThreshold="20"
        growingScrollToLoad="true"
        sticky="HeaderToolbar,ColumnHeaders,InfoToolbar"
        alternateRowColors="false"
        popinLayout="GridSmall"
        autoPopinMode="true">
        <headerToolbar>
            <OverflowToolbar design="Solid"
                style="Clear">
                <ToolbarSpacer />
                <Button text="Ordina e Filtra"
                    type="Emphasized"
                    icon="sap-icon://action-settings"
                    press=".onFilterPress"/>
                <CheckBox text="Raggruppa per Categoria"
                    visible="false"
                    selected="{proposta>/table/toolbar/groupByCategory}"
                    select=".onGroupByCategory" />
                <Button text="Aggiungi Prodotti"
                    type="Emphasized"
                    icon="sap-icon://add"
                    press=".onProductValueHelpRequest" />
            </OverflowToolbar>
        </headerToolbar>
        <infoToolbar>
            <Toolbar design="Solid"
                style="Clear">
                <SearchField placeholder="Cerca per categoria o descrizione"
                    showSearchButton="false"
                    liveChange="onSearch" />
            </Toolbar>
        </infoToolbar>
        <columns>
            <Column demandPopin="true"
                importance="High"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Foto" />
            </Column>
            <Column demandPopin="true"
                importance="Low"
                width="12em"
                popinDisplay="Block"
                minScreenWidth="Desktop"
                visible="{proposta>/table/columns/categoryColumnVisible}">
                <Label design="Bold"
                    wrapping="true"
                    text="Categoria" />
            </Column>
            <!-- <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Prodotto" />
            </Column> -->
            <Column demandPopin="true"
                importance="Low"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Descrizione" />
            </Column>
            <Column demandPopin="true"
                importance="Medium"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Ultimo acquisto" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Ultimo prezzo" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Ultima Quantità" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Disponibilità" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Unita di Misura" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Prezzo" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop">
                <Label design="Bold"
                    wrapping="true"
                    text="Quantità" />
            </Column>
            <Column demandPopin="true"
                minScreenWidth="Desktop"
                popinDisplay="WithoutHeader"
                importance="Medium"
                hAlign="Center">
                <Label design="Bold"
                    wrapping="true"
                    text="Note" />
            </Column>
        </columns>
    </Table>
</core:FragmentDefinition>